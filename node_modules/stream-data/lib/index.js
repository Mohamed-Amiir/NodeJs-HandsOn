"use strict";

/**
 * streamData
 * Collect the stream data and send it into a callback function.
 *
 * @name streamData
 * @function
 * @param {Stream} str The stream object.
 * @param {Function} cb The callback function.
 * @returns {Stream} The stream object.
 */

module.exports = function streamData(str, cb) {

    if (cb) {
        var buffer = [],
            error = null;

        str.on("data", function (chunk) {
            return buffer.push(chunk);
        });
        str.on("error", function (err) {
            return error = err;
        });
        str.on("end", function () {
            return cb(error, buffer.join(""), buffer);
        });
    }

    return str;
};